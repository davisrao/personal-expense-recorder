{% extends 'base.html' %}
{% block content %}
<div class="container justify-content-center">
<form method="GET">

    {{ form.hidden_tag() }}

    {% for field in form
    if field.widget.input_type != 'hidden' %}
    <p>
        {{ field.label }}
        {{ field }}

        {% for error in field.errors %}
        {{ error }}
        {% endfor %}
    </p>
    {% endfor %}

    <button type="submit">See Category</button>
</form>

<div class="row">
    <p class="col-4">
        Total Monthly Expenses:
        ${{total_expenses}}
    </p>
</div>
<i class="row">
    <i class="col-4">
        Food Expenses:
        ${{total_expenses}}
    </i>
</i>
<i class="row">
    <i class="col-4">
        Travel Expenses:
        ${{total_expenses}}
    </i>
</i>
<i class="row">
    <i class="col-4">
        Home Expenses:
        ${{total_expenses}}
    </i>
</i>

{% if selected_category != None %}
<div>
    <p class="">
        Total Expenses for {{selected_category}}:
        ${{total_category_expenses}}
    </p>
    {% else %}
    <h4>Category Summary</h4>
    <p class="">
        Select a category above to see details!
    </p>
    {% endif %}
    {% if total_category_expenses != 0 %}
    <p class="">
        {{selected_category}} as % of total:
        {{ (total_category_expenses / total_expenses) * 100 }}%
    </p>

    {% endif %}
</div>
</div>
{% endblock %}